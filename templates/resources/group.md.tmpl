---
page_title: "adaptive_group Resource - terraform-provider-adaptive"
subcategory: ""
description: |-
  Manages an Adaptive group, which organizes users and endpoints for access control.
---

# adaptive_group (Resource)

The `adaptive_group` resource creates logical groupings of users and endpoints for simplified access management. Groups allow you to:

- **Organize users** - Group team members by role, department, or project
- **Assign endpoints** - Grant group members access to specific endpoints
- **Simplify management** - Add or remove users from groups instead of individual endpoints

## Example Usage

### Basic Group

```terraform
resource "adaptive_group" "developers" {
  name    = "developers"
  members = ["dev1@example.com", "dev2@example.com", "dev3@example.com"]
}
```

### Group with Endpoints

```terraform
resource "adaptive_group" "backend_team" {
  name      = "backend-team"
  members   = ["backend-lead@example.com", "backend-dev@example.com"]
  endpoints = [
    adaptive_endpoint.api_database.name,
    adaptive_endpoint.cache_server.name,
  ]
}
```

### Team-Based Access Control

```terraform
# Database resources
resource "adaptive_resource" "production_db" {
  name          = "production-postgres"
  type          = "postgres"
  host          = "prod-db.example.com"
  port          = "5432"
  username      = "admin"
  password      = var.db_password
  database_name = "production"
}

resource "adaptive_resource" "staging_db" {
  name          = "staging-postgres"
  type          = "postgres"
  host          = "staging-db.example.com"
  port          = "5432"
  username      = "admin"
  password      = var.staging_db_password
  database_name = "staging"
}

# Endpoints
resource "adaptive_endpoint" "prod_readonly" {
  name     = "prod-db-readonly"
  resource = adaptive_resource.production_db.name
  users    = []  # Access controlled via groups
  tags     = ["production"]
}

resource "adaptive_endpoint" "staging_full" {
  name     = "staging-db-full"
  resource = adaptive_resource.staging_db.name
  users    = []  # Access controlled via groups
  tags     = ["staging"]
}

# Groups for different teams
resource "adaptive_group" "senior_devs" {
  name      = "senior-developers"
  members   = ["lead@example.com", "senior1@example.com", "senior2@example.com"]
  endpoints = [
    adaptive_endpoint.prod_readonly.name,
    adaptive_endpoint.staging_full.name,
  ]
}

resource "adaptive_group" "junior_devs" {
  name      = "junior-developers"
  members   = ["junior1@example.com", "junior2@example.com"]
  endpoints = [
    adaptive_endpoint.staging_full.name,  # Only staging access
  ]
}
```

### Department-Based Access

```terraform
# Engineering group
resource "adaptive_group" "engineering" {
  name    = "engineering"
  members = [
    "eng-manager@example.com",
    "dev1@example.com",
    "dev2@example.com",
    "devops@example.com",
  ]
  endpoints = [
    adaptive_endpoint.dev_database.name,
    adaptive_endpoint.staging_k8s.name,
  ]
}

# Data team group
resource "adaptive_group" "data_team" {
  name    = "data-team"
  members = [
    "data-lead@example.com",
    "analyst1@example.com",
    "analyst2@example.com",
  ]
  endpoints = [
    adaptive_endpoint.analytics_db.name,
    adaptive_endpoint.snowflake_warehouse.name,
  ]
}

# SRE/Platform team
resource "adaptive_group" "platform" {
  name    = "platform-team"
  members = [
    "sre-lead@example.com",
    "sre1@example.com",
    "platform-eng@example.com",
  ]
  endpoints = [
    adaptive_endpoint.prod_k8s.name,
    adaptive_endpoint.prod_database.name,
    adaptive_endpoint.monitoring.name,
  ]
}
```

### Dynamic Group Membership

```terraform
variable "backend_team_members" {
  type        = list(string)
  description = "List of backend team member emails"
  default     = []
}

variable "frontend_team_members" {
  type        = list(string)
  description = "List of frontend team member emails"
  default     = []
}

resource "adaptive_group" "backend" {
  name    = "backend-team"
  members = var.backend_team_members
  endpoints = [
    adaptive_endpoint.api_db.name,
    adaptive_endpoint.redis.name,
  ]
}

resource "adaptive_group" "frontend" {
  name    = "frontend-team"
  members = var.frontend_team_members
  endpoints = [
    adaptive_endpoint.cdn.name,
  ]
}

# Full-stack developers get access to both
resource "adaptive_group" "fullstack" {
  name    = "fullstack-team"
  members = setintersection(var.backend_team_members, var.frontend_team_members)
  endpoints = concat(
    [adaptive_endpoint.api_db.name, adaptive_endpoint.redis.name],
    [adaptive_endpoint.cdn.name]
  )
}
```

### Project-Based Groups

```terraform
locals {
  projects = {
    alpha = {
      members = ["pm-alpha@example.com", "dev-alpha@example.com"]
      endpoints = ["alpha-db", "alpha-k8s"]
    }
    beta = {
      members = ["pm-beta@example.com", "dev-beta@example.com"]
      endpoints = ["beta-db", "beta-k8s"]
    }
  }
}

resource "adaptive_group" "project" {
  for_each = local.projects

  name      = "project-${each.key}"
  members   = each.value.members
  endpoints = each.value.endpoints
}
```

{{ .SchemaMarkdown | trimspace }}

## Import

Groups can be imported using the group ID:

```shell
terraform import adaptive_group.example group-id
```
