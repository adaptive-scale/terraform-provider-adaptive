---
page_title: "adaptive_endpoint Resource - terraform-provider-adaptive"
subcategory: ""
description: |-
  Manages an Adaptive endpoint, which provides secure access to resources with configurable TTL, JIT access, and user assignments.
---

# adaptive_endpoint (Resource)

The `adaptive_endpoint` resource creates a secure access point to an Adaptive resource. Endpoints are what users connect to when accessing databases, servers, or other services through Adaptive. They provide:

- **Time-limited access** - Configure TTL (time-to-live) for automatic session expiration
- **Just-In-Time (JIT) access** - Require approval before granting access
- **User management** - Assign specific users who can access the endpoint
- **Auto-pause** - Automatically pause inactive endpoints to save resources

## Example Usage

### Basic Endpoint

```terraform
resource "adaptive_endpoint" "basic" {
  name     = "postgres-readonly"
  resource = adaptive_resource.postgres.name
  users    = ["developer@example.com"]
  tags     = ["development"]
}
```

### Endpoint with TTL

```terraform
resource "adaptive_endpoint" "time_limited" {
  name     = "postgres-temp-access"
  resource = adaptive_resource.postgres.name
  ttl      = "4h"  # Access expires after 4 hours
  users    = ["contractor@example.com"]
  tags     = ["temporary"]
}
```

### Endpoint with Just-In-Time Access

```terraform
resource "adaptive_endpoint" "jit_enabled" {
  name           = "production-db-jit"
  resource       = adaptive_resource.production_postgres.name
  is_jit_enabled = true
  jit_approvers  = ["security@example.com", "manager@example.com"]
  users          = ["developer@example.com", "oncall@example.com"]
  tags           = ["production", "jit"]
}
```

### Endpoint with Authorization

```terraform
resource "adaptive_authorization" "readonly" {
  name          = "postgres-readonly"
  resource_type = "postgres"
  permissions   = "SELECT"
}

resource "adaptive_endpoint" "authorized" {
  name          = "postgres-readonly-access"
  resource      = adaptive_resource.postgres.name
  authorization = adaptive_authorization.readonly.name
  users         = ["analyst@example.com"]
  tags          = ["readonly"]
}
```

### Endpoint with Auto-Pause

```terraform
resource "adaptive_endpoint" "auto_pause" {
  name          = "dev-database"
  resource      = adaptive_resource.dev_postgres.name
  pause_timeout = "30m"  # Pause after 30 minutes of inactivity
  users         = ["developer@example.com"]
  tags          = ["development"]
}
```

### Kubernetes Endpoint with Custom Resources

```terraform
resource "adaptive_endpoint" "k8s_endpoint" {
  name     = "k8s-admin"
  resource = adaptive_resource.k8s_cluster.name
  type     = "kubernetes"
  cpu      = "500m"
  memory   = "512Mi"
  users    = ["platform-team@example.com"]
  tags     = ["kubernetes", "admin"]
}
```

### Multiple Users with Different Access Patterns

```terraform
# Development endpoint - longer TTL, no JIT
resource "adaptive_endpoint" "dev_access" {
  name     = "dev-database"
  resource = adaptive_resource.dev_db.name
  ttl      = "8h"
  users    = ["dev-team@example.com"]
  tags     = ["development"]
}

# Production endpoint - short TTL, JIT required
resource "adaptive_endpoint" "prod_access" {
  name           = "prod-database"
  resource       = adaptive_resource.prod_db.name
  ttl            = "2h"
  is_jit_enabled = true
  jit_approvers  = ["security@example.com"]
  users          = ["oncall@example.com"]
  tags           = ["production"]
}
```

### Complete Example with Resource and Group

```terraform
# Create the resource
resource "adaptive_resource" "postgres" {
  name          = "app-database"
  type          = "postgres"
  host          = "postgres.example.com"
  port          = "5432"
  username      = "admin"
  password      = var.db_password
  database_name = "myapp"
}

# Create authorization for read-only access
resource "adaptive_authorization" "readonly" {
  name          = "readonly-access"
  resource_type = "postgres"
  permissions   = "SELECT"
}

# Create endpoint
resource "adaptive_endpoint" "app_db" {
  name          = "app-database-access"
  resource      = adaptive_resource.postgres.name
  authorization = adaptive_authorization.readonly.name
  ttl           = "8h"
  users         = ["developer@example.com"]
  tags          = ["app", "database"]
}

# Assign to group
resource "adaptive_group" "developers" {
  name      = "app-developers"
  members   = ["dev1@example.com", "dev2@example.com"]
  endpoints = [adaptive_endpoint.app_db.name]
}
```

{{ .SchemaMarkdown | trimspace }}

## TTL Format

The `ttl` field accepts duration strings in the following formats:
- Hours: `1h`, `8h`, `24h`
- Minutes: `30m`, `60m`
- Combined: `1h30m`
- Days: `1d`, `7d` (equivalent to `24h`, `168h`)

## Import

Endpoints can be imported using the endpoint ID:

```shell
terraform import adaptive_endpoint.example endpoint-id
```
